<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Payroll Calculator</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            min-height: 600px;
        }

        .form-section {
            flex: 1;
            min-width: 500px;
            padding: 30px;
            background: #f8f9fa;
        }

        .results-section {
            flex: 1;
            min-width: 500px;
            padding: 30px;
            background: white;
        }

        .section-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #34495e;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            margin-right: 10px;
            width: auto;
            display: inline-block;
        }

        .pay-stub {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 25px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
        }

        .pay-stub-header {
            text-align: center;
            border-bottom: 2px solid #34495e;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .pay-stub-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }

        .pay-stub-section {
            margin-bottom: 20px;
        }

        .pay-stub-section h4 {
            color: #34495e;
            margin-bottom: 10px;
            font-size: 1.1em;
            border-bottom: 1px solid #bdc3c7;
            padding-bottom: 5px;
        }

        .pay-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            padding: 2px 0;
        }

        .pay-row.total {
            font-weight: bold;
            border-top: 1px solid #34495e;
            padding-top: 8px;
            margin-top: 8px;
        }

        .pay-row.gross-pay {
            font-size: 1.2em;
            background: #e8f5e8;
            padding: 10px;
            border-radius: 5px;
            border: 2px solid #27ae60;
        }

        .premium-breakdown {
            margin-left: 20px;
            border-left: 2px solid #bdc3c7;
            padding-left: 10px;
            margin-top: 10px;
            background: #f9f9f9;
            border-radius: 5px;
            padding: 10px;
        }

        .premium-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #34495e;
            font-size: 0.95em;
        }

        .premium-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3px;
            font-size: 0.9em;
            color: #555;
        }

        .employee-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .employee-item {
            background: white;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 5px;
            border-left: 4px solid #3498db;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .employee-item:hover {
            background: #ecf0f1;
            transform: translateX(5px);
        }

        .employee-item.selected {
            border-left-color: #27ae60;
            background: #e8f5e8;
        }

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            background: #f39c12;
            color: white;
            font-weight: 600;
        }

        .alert.success {
            background: #27ae60;
        }

        .alert.error {
            background: #e74c3c;
        }

        .hours-subtitle {
            margin-top: 20px;
            margin-bottom: 10px;
            color: #34495e;
            font-size: 1.1em;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .form-section, .results-section {
                min-width: auto;
            }
            
            .form-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ’¼ Simple Payroll Calculator</h1>
            <p>Calculate wages, overtime, holiday pay, and shift premiums for BC healthcare workers</p>
        </div>

        <div class="main-content">
            <div class="form-section">
                <h2 class="section-title">Employee & Payroll Setup</h2>
                
                <!-- Employee Management -->
                <div class="form-group">
                    <h3>Add New Employee</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="employeeName">Name</label>
                            <input type="text" id="employeeName" placeholder="John Smith">
                        </div>
                        <div class="form-group">
                            <label for="hourlyRate">Hourly Rate ($)</label>
                            <input type="number" id="hourlyRate" step="0.01" placeholder="25.00">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="department">Department</label>
                            <input type="text" id="department" placeholder="Engineering">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-secondary" onclick="addEmployee()">Add Employee</button>
                        </div>
                    </div>
                </div>

                <!-- Employee List -->
                <div class="employee-list">
                    <h4>Select Employee:</h4>
                    <div id="employeeList">
                        <div class="alert">No employees added yet. Add an employee above to get started.</div>
                    </div>
                </div>

                <!-- Payroll Calculation -->
                <div class="form-group">
                    <h3>Hours Worked</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="totalHours">Total Hours Worked</label>
                            <input type="number" id="totalHours" step="0.5" placeholder="80">
                        </div>
                    </div>
                    
                    <h4 class="hours-subtitle">Overtime Hours</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="overtimeHours15">OT Hours (1.5x rate)</label>
                            <input type="number" id="overtimeHours15" step="0.5" placeholder="8" title="First 8 hours of overtime at 1.5x rate">
                        </div>
                        <div class="form-group">
                            <label for="overtimeHours20">OT Hours (2.0x rate)</label>
                            <input type="number" id="overtimeHours20" step="0.5" placeholder="0" title="Hours beyond 8 OT hours at 2.0x rate">
                        </div>
                    </div>
                    
                    <h4 class="hours-subtitle">Holiday Hours</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="holidayHours15">Regular Holiday (1.5x)</label>
                            <input type="number" id="holidayHours15" step="0.5" placeholder="0" title="Standard stat holidays at 1.5x rate">
                        </div>
                        <div class="form-group">
                            <label for="holidayHours20">Premium Holiday (2.0x)</label>
                            <input type="number" id="holidayHours20" step="0.5" placeholder="7.5" title="Christmas, New Year's at 2.0x rate">
                        </div>
                    </div>
                    
                    <h4 class="hours-subtitle">Premium Hours (subset of total hours)</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nightShiftHours">Night Shift Hours (+$4/hr)</label>
                            <input type="number" id="nightShiftHours" step="0.5" placeholder="16">
                        </div>
                        <div class="form-group">
                            <label for="eveningShiftHours">Evening Shift Hours (+$2/hr)</label>
                            <input type="number" id="eveningShiftHours" step="0.5" placeholder="7.5">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="weekendHours">Weekend Hours (+$2/hr)</label>
                            <input type="number" id="weekendHours" step="0.5" placeholder="30">
                        </div>
                        <div class="form-group">
                            <label for="onCallHours">On-Call Hours (+$3/hr)</label>
                            <input type="number" id="onCallHours" step="0.5" placeholder="0">
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="calculatePayroll()">Calculate Payroll</button>
            </div>

            <div class="results-section">
                <h2 class="section-title">Payroll Results</h2>
                <div id="results">
                    <div class="alert">
                        Select an employee and enter hours to calculate payroll.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class PayrollCalculator {
            constructor() {
                this.employees = [];
                this.payPeriods = [];
                this.nextId = 1;
            }

            addEmployee(name, hourlyRate, department = 'General') {
                const employee = {
                    id: this.nextId++,
                    name,
                    hourlyRate,
                    department,
                    dateHired: new Date()
                };
                this.employees.push(employee);
                return employee;
            }

            getEmployee(id) {
                return this.employees.find(emp => emp.id === id);
            }

            calculateRegularPay(regularHours, hourlyRate) {
                return regularHours * hourlyRate;
            }

            calculateOvertimePay(overtimeHours15, overtimeHours20, hourlyRate) {
                const overtime15Pay = overtimeHours15 * hourlyRate * 1.5;
                const overtime20Pay = overtimeHours20 * hourlyRate * 2.0;
                return {
                    overtime15: overtime15Pay,
                    overtime20: overtime20Pay,
                    total: overtime15Pay + overtime20Pay
                };
            }

            calculateHolidayPay(holidayHours15, holidayHours20, hourlyRate) {
                const holiday15Pay = holidayHours15 * hourlyRate * 1.5;
                const holiday20Pay = holidayHours20 * hourlyRate * 2.0;
                return {
                    holiday15: holiday15Pay,
                    holiday20: holiday20Pay,
                    total: holiday15Pay + holiday20Pay
                };
            }

            // Calculate premium pay for different shift types
            calculateShiftPremiums(shiftPremiums, hourlyRate) {
                const {
                    nightShiftHours = 0,
                    eveningShiftHours = 0,
                    weekendHours = 0,
                    onCallHours = 0
                } = shiftPremiums;

                return {
                    nightShift: nightShiftHours * 4.00, // $4/hr premium
                    eveningShift: eveningShiftHours * 2.00, // $2/hr premium
                    weekend: weekendHours * 2.00, // $2/hr premium
                    onCall: onCallHours * 3.00, // $3/hr premium
                    total: (nightShiftHours * 4.00) + (eveningShiftHours * 2.00) + 
                           (weekendHours * 2.00) + (onCallHours * 3.00)
                };
            }

            calculatePayroll(employeeId, payPeriodData) {
                const employee = this.getEmployee(employeeId);
                if (!employee) {
                    throw new Error(`Employee with ID ${employeeId} not found`);
                }

                const {
                    totalHours = 0,
                    overtimeHours15 = 0,
                    overtimeHours20 = 0,
                    holidayHours15 = 0,
                    holidayHours20 = 0,
                    shiftPremiums = {},
                    payPeriodStart,
                    payPeriodEnd
                } = payPeriodData;

                // Calculate regular hours (total - overtime - holiday)
                const totalOvertimeHours = overtimeHours15 + overtimeHours20;
                const totalHolidayHours = holidayHours15 + holidayHours20;
                const regularHours = Math.max(0, totalHours - totalOvertimeHours - totalHolidayHours);

                // Calculate different types of pay
                const regularPay = this.calculateRegularPay(regularHours, employee.hourlyRate);
                const overtimePay = this.calculateOvertimePay(overtimeHours15, overtimeHours20, employee.hourlyRate);
                const holidayPay = this.calculateHolidayPay(holidayHours15, holidayHours20, employee.hourlyRate);
                const shiftPremiumPay = this.calculateShiftPremiums(shiftPremiums, employee.hourlyRate);

                // Calculate gross pay
                const grossPay = regularPay + overtimePay.total + holidayPay.total + shiftPremiumPay.total;

                // Create payroll record
                const payrollRecord = {
                    employeeId: employee.id,
                    employeeName: employee.name,
                    payPeriodStart: payPeriodStart || new Date(),
                    payPeriodEnd: payPeriodEnd || new Date(),
                    hours: {
                        total: totalHours,
                        regular: regularHours,
                        overtimeHours15,
                        overtimeHours20,
                        holidayHours15,
                        holidayHours20,
                        shiftPremiums: shiftPremiums
                    },
                    pay: {
                        hourlyRate: employee.hourlyRate,
                        regular: regularPay,
                        overtime: overtimePay,
                        holiday: holidayPay,
                        shiftPremiums: shiftPremiumPay,
                        gross: grossPay
                    },
                    calculatedAt: new Date()
                };

                this.payPeriods.push(payrollRecord);
                return payrollRecord;
            }

            formatCurrency(amount) {
                return new Intl.NumberFormat('en-CA', {
                    style: 'currency',
                    currency: 'CAD'
                }).format(amount);
            }
        }

        // Initialize payroll calculator
        const payroll = new PayrollCalculator();
        let selectedEmployeeId = null;

        // Add some sample employees
        payroll.addEmployee('Layne Trudeau', 50.00, 'RN');
        payroll.addEmployee('Domonique Ballsack', 35.00, 'LPN');
        payroll.addEmployee('Lizzie Westerly', 28.00, 'Care Aide');

        function addEmployee() {
            const name = document.getElementById('employeeName').value;
            const hourlyRate = parseFloat(document.getElementById('hourlyRate').value);
            const department = document.getElementById('department').value || 'General';

            if (!name || !hourlyRate || hourlyRate <= 0) {
                showAlert('Please enter valid employee name and hourly rate.', 'error');
                return;
            }

            const employee = payroll.addEmployee(name, hourlyRate, department);
            showAlert(`Employee ${name} added successfully!`, 'success');
            
            // Clear form
            document.getElementById('employeeName').value = '';
            document.getElementById('hourlyRate').value = '';
            document.getElementById('department').value = '';
            
            updateEmployeeList();
        }

        function updateEmployeeList() {
            const employeeList = document.getElementById('employeeList');
            
            if (payroll.employees.length === 0) {
                employeeList.innerHTML = '<div class="alert">No employees added yet. Add an employee above to get started.</div>';
                return;
            }

            employeeList.innerHTML = payroll.employees.map(emp => `
                <div class="employee-item ${selectedEmployeeId === emp.id ? 'selected' : ''}" 
                     onclick="selectEmployee(${emp.id})">
                    <strong>${emp.name}</strong> - ${payroll.formatCurrency(emp.hourlyRate)}/hr - ${emp.department}
                </div>
            `).join('');
        }

        function selectEmployee(employeeId) {
            selectedEmployeeId = employeeId;
            updateEmployeeList();
        }

        function calculatePayroll() {
            if (!selectedEmployeeId) {
                showAlert('Please select an employee first.', 'error');
                return;
            }

            const totalHours = parseFloat(document.getElementById('totalHours').value) || 0;
            const overtimeHours15 = parseFloat(document.getElementById('overtimeHours15').value) || 0;
            const overtimeHours20 = parseFloat(document.getElementById('overtimeHours20').value) || 0;
            const holidayHours15 = parseFloat(document.getElementById('holidayHours15').value) || 0;
            const holidayHours20 = parseFloat(document.getElementById('holidayHours20').value) || 0;
            
            const shiftPremiums = {
                nightShiftHours: parseFloat(document.getElementById('nightShiftHours').value) || 0,
                eveningShiftHours: parseFloat(document.getElementById('eveningShiftHours').value) || 0,
                weekendHours: parseFloat(document.getElementById('weekendHours').value) || 0,
                onCallHours: parseFloat(document.getElementById('onCallHours').value) || 0
            };

            try {
                const payrollRecord = payroll.calculatePayroll(selectedEmployeeId, {
                    totalHours,
                    overtimeHours15,
                    overtimeHours20,
                    holidayHours15,
                    holidayHours20,
                    shiftPremiums,
                    payPeriodStart: new Date(),
                    payPeriodEnd: new Date()
                });

                displayPayStub(payrollRecord);
                showAlert('Payroll calculated successfully!', 'success');
            } catch (error) {
                showAlert(`Error: ${error.message}`, 'error');
            }
        }

        function displayPayStub(payrollRecord) {
            const resultsDiv = document.getElementById('results');
            
            resultsDiv.innerHTML = `
                <div class="pay-stub">
                    <div class="pay-stub-header">
                        <div class="pay-stub-title">PAYROLL STUB</div>
                        <div style="margin-top: 10px;">
                            <strong>${payrollRecord.employeeName}</strong> (ID: ${payrollRecord.employeeId})<br>
                            Pay Period: ${payrollRecord.payPeriodStart.toLocaleDateString()} - ${payrollRecord.payPeriodEnd.toLocaleDateString()}<br>
                            Hourly Rate: ${payroll.formatCurrency(payrollRecord.pay.hourlyRate)}
                        </div>
                    </div>

                    <div class="pay-stub-section">
                        <h4>HOURS WORKED</h4>
                        <div class="pay-row">
                            <span>Total Hours:</span>
                            <span>${payrollRecord.hours.total}</span>
                        </div>
                        <div class="pay-row">
                            <span>Regular Hours:</span>
                            <span>${payrollRecord.hours.regular}</span>
                        </div>
                        <div class="pay-row">
                            <span>Overtime Hours (1.5x):</span>
                            <span>${payrollRecord.hours.overtimeHours15 || 0}</span>
                        </div>
                        <div class="pay-row">
                            <span>Overtime Hours (2.0x):</span>
                            <span>${payrollRecord.hours.overtimeHours20 || 0}</span>
                        </div>
                        <div class="pay-row">
                            <span>Holiday Hours (1.5x):</span>
                            <span>${payrollRecord.hours.holidayHours15 || 0}</span>
                        </div>
                        <div class="pay-row">
                            <span>Holiday Hours (2.0x):</span>
                            <span>${payrollRecord.hours.holidayHours20 || 0}</span>
                        </div>
                        <div class="premium-breakdown">
                            <div class="premium-title">Premium Hours Breakdown:</div>
                            <div class="premium-row">
                                <span>Night Shift:</span>
                                <span>${payrollRecord.hours.shiftPremiums.nightShiftHours || 0} hrs</span>
                            </div>
                            <div class="premium-row">
                                <span>Evening Shift:</span>
                                <span>${payrollRecord.hours.shiftPremiums.eveningShiftHours || 0} hrs</span>
                            </div>
                            <div class="premium-row">
                                <span>Weekend:</span>
                                <span>${payrollRecord.hours.shiftPremiums.weekendHours || 0} hrs</span>
                            </div>
                            <div class="premium-row">
                                <span>On-Call:</span>
                                <span>${payrollRecord.hours.shiftPremiums.onCallHours || 0} hrs</span>
                            </div>
                        </div>
                    </div>

                    <div class="pay-stub-section">
                        <h4>EARNINGS</h4>
                        <div class="pay-row">
                            <span>Regular Pay:</span>
                            <span>${payroll.formatCurrency(payrollRecord.pay.regular)}</span>
                        </div>
                        <div class="pay-row">
                            <span>Overtime Pay (1.5x):</span>
                            <span>${payroll.formatCurrency(payrollRecord.pay.overtime.overtime15)}</span>
                        </div>
                        <div class="pay-row">
                            <span>Overtime Pay (2.0x):</span>
                            <span>${payroll.formatCurrency(payrollRecord.pay.overtime.overtime20)}</span>
                        </div>
                        <div class="pay-row">
                            <span>Holiday Pay (1.5x):</span>
                            <span>${payroll.formatCurrency(payrollRecord.pay.holiday.holiday15)}</span>
                        </div>
                        <div class="pay-row">
                            <span>Holiday Pay (2.0x):</span>
                            <span>${payroll.formatCurrency(payrollRecord.pay.holiday.holiday20)}</span>
                        </div>
                        <div class="premium-breakdown">
                            <div class="premium-title">Shift Premiums:</div>
                            <div class="premium-row">
                                <span>Night Shift (+$4/hr):</span>
                                <span>${payroll.formatCurrency(payrollRecord.pay.shiftPremiums.nightShift)}</span>
                            </div>
                            <div class="premium-row">
                                <span>Evening Shift (+$2/hr):</span>
                                <span>${payroll.formatCurrency(payrollRecord.pay.shiftPremiums.eveningShift)}</span>
                            </div>
                            <div class="premium-row">
                                <span>Weekend (+$2/hr):</span>
                                <span>${payroll.formatCurrency(payrollRecord.pay.shiftPremiums.weekend)}</span>
                            </div>
                            <div class="premium-row">
                                <span>On-Call (+$3/hr):</span>
                                <span>${payroll.formatCurrency(payrollRecord.pay.shiftPremiums.onCall)}</span>
                            </div>
                        </div>
                    </div>

                    <div class="pay-row gross-pay">
                        <span><strong>GROSS PAY:</strong></span>
                        <span><strong>${payroll.formatCurrency(payrollRecord.pay.gross)}</strong></span>
                    </div>
                </div>
            `;
        }

        function showAlert(message, type = 'info') {
            // Remove existing alerts
            const existingAlerts = document.querySelectorAll('.temp-alert');
            existingAlerts.forEach(alert => alert.remove());

            // Create new alert
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert ${type} temp-alert`;
            alertDiv.textContent = message;
            alertDiv.style.position = 'fixed';
            alertDiv.style.top = '20px';
            alertDiv.style.right = '20px';
            alertDiv.style.zIndex = '1000';
            alertDiv.style.maxWidth = '300px';

            document.body.appendChild(alertDiv);

            // Remove alert after 3 seconds
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        // Initialize the employee list on page load
        updateEmployeeList();
    </script>
</body>
</html>